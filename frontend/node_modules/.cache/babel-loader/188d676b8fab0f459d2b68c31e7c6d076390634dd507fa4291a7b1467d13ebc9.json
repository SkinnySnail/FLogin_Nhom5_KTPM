{"ast":null,"code":"const API_BASE_URL = 'http://localhost:8080/api';\n\n/**\r\n * Login user by calling backend API\r\n * @param {string} username \r\n * @param {string} password \r\n * @returns {Promise<{success: boolean, token?: string, message?: string}>}\r\n */\nexport async function loginUser(username, password) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      // API trả về lỗi (401, 400, etc.)\n      throw new Error(data.message || 'Đăng nhập thất bại');\n    }\n\n    // Login thành công\n    return {\n      success: true,\n      token: data.token,\n      message: data.message\n    };\n  } catch (error) {\n    // Network error hoặc JSON parse error\n    throw {\n      message: error.message || 'Không thể kết nối đến server'\n    };\n  }\n}\n\n/**\r\n * Mock version for testing (giữ lại để test không cần backend chạy)\r\n */\nexport async function loginUserMock(username, password) {\n  // Giả lập delay network\n  await new Promise(resolve => setTimeout(resolve, 500));\n  if (username === 'testuser' && password === 'Test123') {\n    return Promise.resolve({\n      success: true,\n      token: 'mock_token_123',\n      message: 'Đăng nhập thành công'\n    });\n  }\n  return Promise.reject({\n    message: 'Invalid credentials'\n  });\n}","map":{"version":3,"names":["API_BASE_URL","loginUser","username","password","response","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","message","success","token","error","loginUserMock","Promise","resolve","setTimeout","reject"],"sources":["D:/sinh vien/Software Testing/FLogin_Nhom5_KTPM/frontend/src/utils/authService.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:8080/api';\r\n\r\n/**\r\n * Login user by calling backend API\r\n * @param {string} username \r\n * @param {string} password \r\n * @returns {Promise<{success: boolean, token?: string, message?: string}>}\r\n */\r\nexport async function loginUser(username, password) {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ username, password })\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      // API trả về lỗi (401, 400, etc.)\r\n      throw new Error(data.message || 'Đăng nhập thất bại');\r\n    }\r\n\r\n    // Login thành công\r\n    return {\r\n      success: true,\r\n      token: data.token,\r\n      message: data.message\r\n    };\r\n  } catch (error) {\r\n    // Network error hoặc JSON parse error\r\n    throw {\r\n      message: error.message || 'Không thể kết nối đến server'\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Mock version for testing (giữ lại để test không cần backend chạy)\r\n */\r\nexport async function loginUserMock(username, password) {\r\n  // Giả lập delay network\r\n  await new Promise(resolve => setTimeout(resolve, 500));\r\n  \r\n  if (username === 'testuser' && password === 'Test123') {\r\n    return Promise.resolve({ \r\n      success: true, \r\n      token: 'mock_token_123',\r\n      message: 'Đăng nhập thành công'\r\n    });\r\n  }\r\n  return Promise.reject({ message: 'Invalid credentials' });\r\n}"],"mappings":"AAAA,MAAMA,YAAY,GAAG,2BAA2B;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeC,SAASA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;EAClD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,YAAY,aAAa,EAAE;MACzDM,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAER,QAAQ;QAAEC;MAAS,CAAC;IAC7C,CAAC,CAAC;IAEF,MAAMQ,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAElC,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE;MAChB;MACA,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,OAAO,IAAI,oBAAoB,CAAC;IACvD;;IAEA;IACA,OAAO;MACLC,OAAO,EAAE,IAAI;MACbC,KAAK,EAAEN,IAAI,CAACM,KAAK;MACjBF,OAAO,EAAEJ,IAAI,CAACI;IAChB,CAAC;EACH,CAAC,CAAC,OAAOG,KAAK,EAAE;IACd;IACA,MAAM;MACJH,OAAO,EAAEG,KAAK,CAACH,OAAO,IAAI;IAC5B,CAAC;EACH;AACF;;AAEA;AACA;AACA;AACA,OAAO,eAAeI,aAAaA,CAACjB,QAAQ,EAAEC,QAAQ,EAAE;EACtD;EACA,MAAM,IAAIiB,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,GAAG,CAAC,CAAC;EAEtD,IAAInB,QAAQ,KAAK,UAAU,IAAIC,QAAQ,KAAK,SAAS,EAAE;IACrD,OAAOiB,OAAO,CAACC,OAAO,CAAC;MACrBL,OAAO,EAAE,IAAI;MACbC,KAAK,EAAE,gBAAgB;MACvBF,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;EACA,OAAOK,OAAO,CAACG,MAAM,CAAC;IAAER,OAAO,EAAE;EAAsB,CAAC,CAAC;AAC3D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}