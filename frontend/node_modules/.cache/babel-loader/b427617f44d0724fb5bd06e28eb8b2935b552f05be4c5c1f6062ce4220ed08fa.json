{"ast":null,"code":"// src/utils/productService.js - CẬP NHẬT gọi API thực\n\nconst API_BASE_URL = 'http://localhost:8080/api';\n\n/**\r\n * Create new product\r\n * @param {Object} product - Product data {name, price, quantity, category?, description?}\r\n * @returns {Promise<Object>} Created product with ID\r\n */\nexport async function createProduct(product) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/products`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(product)\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(data.message || 'Tạo sản phẩm thất bại');\n    }\n    return data;\n  } catch (error) {\n    throw {\n      message: error.message || 'Không thể kết nối đến server'\n    };\n  }\n}\n\n/**\r\n * Get all products\r\n * @returns {Promise<Array>} List of products\r\n */\nexport async function getProducts() {\n  try {\n    const response = await fetch(`${API_BASE_URL}/products`);\n    if (!response.ok) {\n      throw new Error('Không thể tải danh sách sản phẩm');\n    }\n    return await response.json();\n  } catch (error) {\n    throw {\n      message: error.message || 'Không thể kết nối đến server'\n    };\n  }\n}\n\n/**\r\n * Get product by ID\r\n * @param {number} id - Product ID\r\n * @returns {Promise<Object>} Product data\r\n */\nexport async function getProductById(id) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/products/${id}`);\n    if (!response.ok) {\n      if (response.status === 404) {\n        throw new Error('Không tìm thấy sản phẩm');\n      }\n      throw new Error('Không thể tải sản phẩm');\n    }\n    return await response.json();\n  } catch (error) {\n    throw {\n      message: error.message || 'Không thể kết nối đến server'\n    };\n  }\n}\n\n/**\r\n * Update product\r\n * @param {number} id - Product ID\r\n * @param {Object} product - Updated product data\r\n * @returns {Promise<Object>} Updated product\r\n */\nexport async function updateProduct(id, product) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/products/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(product)\n    });\n    if (!response.ok) {\n      if (response.status === 404) {\n        throw new Error('Không tìm thấy sản phẩm');\n      }\n      throw new Error('Cập nhật sản phẩm thất bại');\n    }\n    return await response.json();\n  } catch (error) {\n    throw {\n      message: error.message || 'Không thể kết nối đến server'\n    };\n  }\n}\n\n/**\r\n * Delete product\r\n * @param {number} id - Product ID\r\n * @returns {Promise<boolean>} True if deleted successfully\r\n */\nexport async function deleteProduct(id) {\n  try {\n    const response = await fetch(`${API_BASE_URL}/products/${id}`, {\n      method: 'DELETE'\n    });\n    if (!response.ok) {\n      if (response.status === 404) {\n        throw new Error('Không tìm thấy sản phẩm');\n      }\n      throw new Error('Xóa sản phẩm thất bại');\n    }\n    return true;\n  } catch (error) {\n    throw {\n      message: error.message || 'Không thể kết nối đến server'\n    };\n  }\n}\n\n/**\r\n * Mock version for testing\r\n */\nexport async function createProductMock(product) {\n  await new Promise(resolve => setTimeout(resolve, 500));\n  return Promise.resolve({\n    id: 1,\n    ...product\n  });\n}","map":{"version":3,"names":["API_BASE_URL","createProduct","product","response","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","message","error","getProducts","getProductById","id","status","updateProduct","deleteProduct","createProductMock","Promise","resolve","setTimeout"],"sources":["D:/sinh vien/Software Testing/FLogin_Nhom5_KTPM/frontend/src/utils/productService.js"],"sourcesContent":["// src/utils/productService.js - CẬP NHẬT gọi API thực\r\n\r\nconst API_BASE_URL = 'http://localhost:8080/api';\r\n\r\n/**\r\n * Create new product\r\n * @param {Object} product - Product data {name, price, quantity, category?, description?}\r\n * @returns {Promise<Object>} Created product with ID\r\n */\r\nexport async function createProduct(product) {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/products`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(product)\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      throw new Error(data.message || 'Tạo sản phẩm thất bại');\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    throw {\r\n      message: error.message || 'Không thể kết nối đến server'\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Get all products\r\n * @returns {Promise<Array>} List of products\r\n */\r\nexport async function getProducts() {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/products`);\r\n    \r\n    if (!response.ok) {\r\n      throw new Error('Không thể tải danh sách sản phẩm');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    throw {\r\n      message: error.message || 'Không thể kết nối đến server'\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Get product by ID\r\n * @param {number} id - Product ID\r\n * @returns {Promise<Object>} Product data\r\n */\r\nexport async function getProductById(id) {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/products/${id}`);\r\n    \r\n    if (!response.ok) {\r\n      if (response.status === 404) {\r\n        throw new Error('Không tìm thấy sản phẩm');\r\n      }\r\n      throw new Error('Không thể tải sản phẩm');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    throw {\r\n      message: error.message || 'Không thể kết nối đến server'\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Update product\r\n * @param {number} id - Product ID\r\n * @param {Object} product - Updated product data\r\n * @returns {Promise<Object>} Updated product\r\n */\r\nexport async function updateProduct(id, product) {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/products/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(product)\r\n    });\r\n\r\n    if (!response.ok) {\r\n      if (response.status === 404) {\r\n        throw new Error('Không tìm thấy sản phẩm');\r\n      }\r\n      throw new Error('Cập nhật sản phẩm thất bại');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    throw {\r\n      message: error.message || 'Không thể kết nối đến server'\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Delete product\r\n * @param {number} id - Product ID\r\n * @returns {Promise<boolean>} True if deleted successfully\r\n */\r\nexport async function deleteProduct(id) {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/products/${id}`, {\r\n      method: 'DELETE'\r\n    });\r\n\r\n    if (!response.ok) {\r\n      if (response.status === 404) {\r\n        throw new Error('Không tìm thấy sản phẩm');\r\n      }\r\n      throw new Error('Xóa sản phẩm thất bại');\r\n    }\r\n\r\n    return true;\r\n  } catch (error) {\r\n    throw {\r\n      message: error.message || 'Không thể kết nối đến server'\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Mock version for testing\r\n */\r\nexport async function createProductMock(product) {\r\n  await new Promise(resolve => setTimeout(resolve, 500));\r\n  return Promise.resolve({ id: 1, ...product });\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}